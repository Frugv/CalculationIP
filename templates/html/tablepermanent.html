{% extends "html/base.html" %}

{% block content %}
<h1 style="text-align: center;" xmlns="http://www.w3.org/1999/html">Расчет необходимых IP-адресов для участка.</h1>
<form>
    <div style="line-height:1.5;">
        <p align="justify">
МАВР - место аварийно-восстановительных работ<br/>
ПГС - перегонная связь<br/>
Перегон - участок железнодорожной линии, который ограничен железнодорожными станциями, разъездами и обгонными пунктами<br/>
СПД ОТН - сеть передачи данных оперативно-технологческого назначения<br/>
УПС - устройство перегонной связи<br/>
ЦТУ - центральное таможенное управление<br/>
ШОМ - шлюз оптический модульный<br/><br/>
Для организации сетевого связывания компонентов ПГС необходимо перед началом работ по настройке (местной или удаленной) оборудования рассчитать количество
необходимых IP-адресов. Далее необходимо согласовать этот расчет с ЦТУ, отвечающим за данный участок, получить у ЦТУ диапазон IP-адресов, включающий
необходимое их количество, после чего составить и утвердить план IP-адресов для ПГС.<br/>Так как УПС содержит в себе два коммутатора,то на подключение
одного УПС расходуется 6 IP-адресов (3 подсети /31) — 2 адреса на соединение со станционным коммутатором ШОМ с одной стороны, 2 адреса на соединение со
станционным коммутатором ШОМ с другой стороны и 2 адреса на соединение коммутаторов внутри УПС. Так как каждый УПС имеет 3-4 Ethernet порта подключения, то
необходимо не менее 4 адресов для подключения оконечных устройств соответственно подсеть /29 (8 – IP-адресов).При наличии Wi-Fi-точки доступа в составе УПС
необходимо дополнительно выделить пул адресов для Wi-Fi клиентов. Целесообразно выделить сеть не менее /29 (8 – IP-адресов). Итого для подключения одного УПС
необходимо 14(22 с Wi-Fi) IP-адресов – 3 подсети /31 и 1 (2) подсеть /29.<br/>Для подключения каждого ШОМ к СПД ОТН РЖД используется 1 подсеть /31
(2 IP-адреса).<br/>Также между ШОМ двух разных станций требуется выделить 1 подсеть /31 (2 IP-адресов) для канала мониторинга.<br/>Также для
соединения между собой коммутаторов в составе ШОМ достаточно использовать n-1 подсетей /31, где n – количество коммутаторов в составе ШОМ.<br/>
Необходимо предусмотреть выделение адресов для отладочных технологических подключений к коммутаторам. Предлагается выделять 1 подсеть /28 (16 адресов),
которая при необходимости легко делится на 4 подсети /30 и обеспечивает до 4 точек подключения для отладки.<br/>Для использования комплекса подключения
к МАВР производства АО «Сфера Телеком» необходимо зарезервировать /28 подсети по количеству предполагаемых к использованию комплексов МАВР (обычно не более
двух).<br/><br/>
Расчет необходимых IP – адресов можно представить формулой:<br/><br/>
C = NУПС * (14 + Cwifi(опц)) + NШОМ * 2 + (NШОМ - 1) * 2 + ((N1 – 1) * 2 + (N2 – 1) * 2 + … + (Ni – 1) * 2) + Nмавр * 16 + Сотл, где<br/>
NУПС - количество УПС на участке,<br/>
NШОМ - количество ШОМ на участке,<br/>
Ni - количество коммутаторов внутри конкретного ШОМ,<br/>
Nмавр – количество используемых (предполагаемых к использованию) комплексов подключения к МАВР,<br/>
Сотл – отладочные IP-адреса,<br/>
NШОМ *2 – количество IP-адресов для подключения каждого ШОМ к СПД ОТС РЖД,<br/>
(NШОМ - 1)*2 – количество IP-адресов для канала мониторинга,<br/>
((N1 – 1)*2 +(N2 – 1)*2+ …+(Nn – 1)*2) – количество IP-адресов для межкоммутаторных связей внутри ШОМ.<br/>
Cwifi(опц)- IP-адреса для сети Wi-Fi рекомендуется 8шт. – опционально при наличии Wi-Fi точки доступа в составе УПС.<br/><br/>
Для расчета необходимых IP-адресов для участка, заполните таблицу ниже:
        </p>
    </div>
</form>
<h3 style="text-align: center;">Таблица для расчета IP-адресов</h3>
<form style="text-align: center;" action="/calculating" method="POST">
    <link rel="stylesheet" href="./static/css/form.css">
    <div style="text-align: center;">
        <table border="1" style="display: inline-block">
            <tr style="text-align: center;">
                <th>Наименование переменной</th>
                <th>Условное обозначение переменной</th>
                <th>Описание переменной</th>
                <th>Значение переменной</th>
            </tr>
            <tr style="text-align: center;">
                <td>Количество станций</td>
                <td>S</td>
                <td>Количество станций на участке</td>
                <td><input class="perm_input"  name="Количество станций" min="0" type="number" required/></td>
            </tr>
            <tr style="text-align: center;">
                <td>Количество УПС</td>
                <td>U</td>
                <td>Количество УПС на участке</td>
                <td><input class="perm_input" name="Количество УПС" min="0" type="number" required/></td>
            </tr>
            <tr style="text-align: center;">
                <td>Наличие Wi-Fi</td>
                <td>W</td>
                <td>Наличи Wi-Fi точки в составе УПС</td>
                <td>
                    <input type="radio" id="Да" name="Наличие Wi-Fi" value="8" required/><label for="Да">Да</label><br/>
                    <input type="radio" id="Нет" name="Наличие Wi-Fi" value="0" required/><label for="Нет">Нет</label><br/>
                </td>
            </tr>
            <tr style="text-align: center;">
                <td>Опция МАВР</td>
                <td>A</td>
                <td>Нужен ли комплект МАВР</td>
                <td>
                    <input type="radio" id="Да" name="Опция МАВР" value="2" required/><label for="Да">Да</label><br/>
                    <input type="radio" id="Нет" name="Опция МАВР" value="0" required/><label for="Нет">Нет</label><br/>
                </td>
            </tr>
        </table><br/><br/>
        <button type="button" onclick="history.back()">Назад</button>
        <button type="submit">Далее</button>
    </div>
</form>
{% endblock %}
